{% extends "layout_logged_in.html" %}
{% block content %}
    <h1>Welcome, {{ customer.name }}</h1>

    <div class="content-section">
      <h2>Personal Details</h2>
      <ul class="list-group">
        <li class="list-group-item">CPR Number: {{ customer.CPR_number }}</li>
        <li class="list-group-item">Address: {{ customer.address }}</li>
        <li class="list-group-item">Phone Number: {{ customer.phone_number }}</li>
        <li class="list-group-item">Email: {{ customer.email }}</li>
        <li class="list-group-item">Balance: {{ customer.balance }}</li>
      </ul>
    </div>

    <div class="content-section">
      <h2>Policies</h2>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Policy Number</th>
            <th scope="col">Policy Type</th>
            <th scope="col">Start Date</th>
            <th scope="col">End Date</th>
            <th scope="col">Premium Amount</th>
          </tr>
        </thead>
        <tbody>
        {% for policy in policies %}
          <tr>
            <th scope="row">{{ policy.policy_number }}</th>
            <td>{{ policy.policy_type }}</td>
            <td>{{ policy.start_date }}</td>
            <td>{{ policy.end_date }}</td>
            <td>{{ policy.premium_amount }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="content-section">
      <h2>Claims</h2>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Claim ID</th>
            <th scope="col">Policy Number</th>
            <th scope="col">Claim Date</th>
            <th scope="col">Amount</th>
            <th scope="col">Status</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
        {% for claim in claims %}
          <tr>
            <th scope="row">{{ claim.claim_id }}</th>
            <td>{{ claim.policy_number }}</td>
            <td>{{ claim.claim_date }}</td>
            <td>{{ claim.claim_amount }}</td>
            <td>{{ claim.claim_status }}</td>
            <td>{{ claim.description }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="content-section">
      <h2>Payments</h2>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Payment ID</th>
            <th scope="col">Policy Number</th>
            <th scope="col">Payment Date</th>
            <th scope="col">Amount</th>
            <th scope="col">Payment Method</th>
          </tr>
        </thead>
        <tbody>
        {% for payment in payments %}
          <tr>
            <th scope="row">{{ payment.payment_id }}</th>
            <td>{{ payment.policy_number }}</td>
            <td>{{ payment.payment_date }}</td>
            <td>{{ payment.amount }}</td>
            <td>{{ payment.payment_method }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
{% endblock content %}
